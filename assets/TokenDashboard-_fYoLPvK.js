import{e as f,a as N,E as b,b as j,r as g,j as e,m as A,S as B,ao as U,ap as G,a6 as F,ae as L,G as z,aq as H,F as M,ar as V}from"./index-4ObsLF-s.js";import{B as Y,C as T}from"./index-C6Zm4510.js";const q=["function name() view returns (string)","function symbol() view returns (string)","function decimals() view returns (uint8)","function totalSupply() view returns (uint256)","function balanceOf(address) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function transferFrom(address from, address to, uint256 amount) returns (bool)","function purchaseCredentialCredits(uint256 amount)","function purchaseZKProofCredits(uint256 amount)","function purchaseAPICredits(uint256 amount)","function stake(uint256 amount)","function unstake(uint256 amount)","function claimRewards()","function calculateReward(address user) view returns (uint256)","event Transfer(address indexed from, address indexed to, uint256 value)","event Approval(address indexed owner, address indexed spender, uint256 value)"],W=["function stake(uint256 amount, uint256 lockPeriod) returns (bool)","function unstake() returns (bool)","function stakes(address user) view returns (uint256 amount, uint256 startTime, uint256 lockPeriod, uint256 tier)","function getPendingRewards(address user) view returns (uint256)","function trustScores(address user) view returns (uint256)","event Staked(address indexed user, uint256 amount, uint256 lockPeriod)","event Unstaked(address indexed user, uint256 amount, uint256 rewards)"],Z=["function claimRewards() returns (bool)","function recordVerification(address user, string memory credentialType, bool withZkProof, bool isCrossChain) returns (bool)","function getTotalEarned(address user) view returns (uint256)","function userRewards(address user) view returns (uint256 totalEarned, uint256 totalClaimed, uint256 lastClaimTime)","function getPendingRewards(address user) view returns (uint256)","function getDailyRewardsClaimed(address user) view returns (uint256)","event RewardsClaimed(address indexed user, uint256 amount)","event VerificationRecorded(address indexed user, string credentialType, uint256 reward)"];class R{static instance;provider=null;signer=null;tokenContract=null;stakingContract=null;rewardsContract=null;TOKEN_CONFIG={symbol:"PERS",name:"Persona Token",decimals:18,contractAddress:"",stakingAddress:"",rewardsAddress:"",network:"polygon",chainId:parseInt("personachain-1"),rpcUrl:"https://polygon-rpc.com"};CREDENTIAL_REWARDS={github_basic:{base:10,zkBonus:5,crossChainBonus:3},linkedin_professional:{base:15,zkBonus:7,crossChainBonus:5},discord_verified:{base:8,zkBonus:4,crossChainBonus:3},twitter_verified:{base:12,zkBonus:6,crossChainBonus:4},plaid_income:{base:25,zkBonus:10,crossChainBonus:8},bank_account:{base:20,zkBonus:8,crossChainBonus:6},education_degree:{base:30,zkBonus:15,crossChainBonus:10},employment_history:{base:35,zkBonus:15,crossChainBonus:12},age_verification:{base:15,zkBonus:10,crossChainBonus:5},income_range:{base:30,zkBonus:15,crossChainBonus:10},credit_score:{base:40,zkBonus:20,crossChainBonus:15}};constructor(){}static getInstance(){return R.instance||(R.instance=new R),R.instance}async initialize(){try{if(typeof window.ethereum>"u")throw new Error("MetaMask not installed");await window.ethereum.request({method:"eth_requestAccounts"}),this.provider=new Y(window.ethereum),this.signer=await this.provider.getSigner(),(await this.provider.getNetwork()).chainId!==BigInt(this.TOKEN_CONFIG.chainId)&&await this.switchNetwork(),this.tokenContract=new T(this.TOKEN_CONFIG.contractAddress,q,this.signer),this.stakingContract=new T(this.TOKEN_CONFIG.stakingAddress,W,this.signer),this.rewardsContract=new T(this.TOKEN_CONFIG.rewardsAddress,Z,this.signer),window.ethereum.on("accountsChanged",this.handleAccountsChanged.bind(this)),window.ethereum.on("chainChanged",this.handleChainChanged.bind(this)),console.log("PERS Token Service initialized successfully")}catch(t){throw f.logError(t instanceof Error?t:new Error("Failed to initialize PERS Token Service"),{category:b.BLOCKCHAIN,severity:N.HIGH,metadata:{config:this.TOKEN_CONFIG}}),t}}async switchNetwork(){try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${this.TOKEN_CONFIG.chainId.toString(16)}`}]})}catch(t){if(t.code===4902)await this.addNetwork();else throw t}}async addNetwork(){const t={chainId:`0x${this.TOKEN_CONFIG.chainId.toString(16)}`,chainName:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:[this.TOKEN_CONFIG.rpcUrl],blockExplorerUrls:["https://polygonscan.com/"]};await window.ethereum.request({method:"wallet_addEthereumChain",params:[t]})}async handleAccountsChanged(t){t.length===0?(this.signer=null,console.log("Wallet disconnected")):await this.initialize()}async handleChainChanged(t){parseInt(t,16)!==this.TOKEN_CONFIG.chainId&&await this.switchNetwork()}async getBalance(t){try{if(!this.tokenContract)throw new Error("Token contract not initialized");const a=t||await this.signer?.getAddress();if(!a)throw new Error("No user address");const s=await this.tokenContract.balanceOf(a);return BigInt(s.toString())}catch(a){return f.logError(a instanceof Error?a:new Error("Failed to get balance"),{category:b.BLOCKCHAIN,severity:N.MEDIUM}),BigInt(0)}}async calculateCredentialReward(t,a,s){const r=this.CREDENTIAL_REWARDS[t];if(!r)throw new Error(`Unknown credential type: ${t}`);const i=BigInt("1000000000000000000"),c=BigInt(r.base)*i,x=a?BigInt(r.zkBonus)*i:BigInt(0),m=s?BigInt(r.crossChainBonus)*i:BigInt(0),y=c+x+m;return{credentialType:t,baseReward:c,zkProofBonus:x,crossChainBonus:m,totalReward:y}}async claimCredentialReward(t,a,s=!1,r=!1){try{if(!this.rewardsContract||!this.signer)throw new Error("Contracts not initialized");const i=await this.signer.getAddress(),c=await this.calculateCredentialReward(t,s,r),m=await(await this.rewardsContract.claimRewards()).wait();return j.trackEvent("token_event","reward","claimed",i,{credentialType:t,amount:c.totalReward.toString(),withZkProof:s,isCrossChain:r,txHash:m.hash}),m.hash}catch(i){throw f.logError(i instanceof Error?i:new Error("Failed to claim reward"),{category:b.BLOCKCHAIN,severity:N.HIGH,metadata:{credentialType:t,withZkProof:s,isCrossChain:r}}),i}}async stake(t,a){try{if(!this.stakingContract||!this.tokenContract||!this.signer)throw new Error("Contracts not initialized");const s=await this.signer.getAddress();if(await this.getBalance()<t)throw new Error("Insufficient balance");await(await this.tokenContract.approve(this.TOKEN_CONFIG.stakingAddress,t)).wait();const c=a*24*60*60,m=await(await this.stakingContract.stake(t,c)).wait();return j.trackEvent("token_event","stake","completed",s,{amount:t.toString(),lockPeriodDays:a,txHash:m.hash}),m.hash}catch(s){throw f.logError(s instanceof Error?s:new Error("Failed to stake tokens"),{category:b.BLOCKCHAIN,severity:N.HIGH,metadata:{amount:t.toString(),lockPeriodDays:a}}),s}}async getStakeInfo(t){try{if(!this.stakingContract)throw new Error("Staking contract not initialized");const a=t||await this.signer?.getAddress();if(!a)throw new Error("No user address");const s=await this.stakingContract.stakes(a);if(s.amount===BigInt(0))return null;const r=await this.stakingContract.getPendingRewards(a),i=await this.stakingContract.trustScores(a);return{amount:BigInt(s.amount.toString()),startTime:Number(s.startTime),lockPeriod:Number(s.lockPeriod),tier:Number(s.tier),pendingRewards:BigInt(r.toString()),trustScore:Number(i)}}catch(a){return f.logError(a instanceof Error?a:new Error("Failed to get stake info"),{category:b.BLOCKCHAIN,severity:N.MEDIUM}),null}}async unstake(){try{if(!this.stakingContract||!this.signer)throw new Error("Contracts not initialized");const t=await this.signer.getAddress(),a=await this.getStakeInfo();if(!a)throw new Error("No active stake");const r=await(await this.stakingContract.unstake()).wait();return j.trackEvent("token_event","unstake","completed",t,{amount:a.amount.toString(),rewards:a.pendingRewards.toString(),txHash:r.hash}),r.hash}catch(t){throw f.logError(t instanceof Error?t:new Error("Failed to unstake tokens"),{category:b.BLOCKCHAIN,severity:N.HIGH}),t}}async getRewardInfo(t){try{if(!this.rewardsContract)throw new Error("Rewards contract not initialized");const a=t||await this.signer?.getAddress();if(!a)throw new Error("No user address");const[s,r,i,c]=await Promise.all([this.rewardsContract.getTotalEarned(a),this.rewardsContract.userRewards(a).then(x=>x.totalClaimed),this.rewardsContract.getPendingRewards(a),this.rewardsContract.getDailyRewardsClaimed(a)]);return{totalEarned:BigInt(s.toString()),totalClaimed:BigInt(r.toString()),pendingRewards:BigInt(i.toString()),dailyRewardsClaimed:BigInt(c.toString()),canClaimRewards:i>0}}catch(a){return f.logError(a instanceof Error?a:new Error("Failed to get reward info"),{category:b.BLOCKCHAIN,severity:N.MEDIUM}),{totalEarned:BigInt(0),totalClaimed:BigInt(0),pendingRewards:BigInt(0),dailyRewardsClaimed:BigInt(0),canClaimRewards:!1}}}async claimPendingRewards(){try{if(!this.rewardsContract||!this.signer)throw new Error("Contracts not initialized");const t=await this.signer.getAddress(),a=await this.getRewardInfo();if(!a.canClaimRewards)throw new Error("No pending rewards to claim");const r=await(await this.rewardsContract.claimRewards()).wait();return j.trackEvent("token_event","reward","claimed_pending",t,{amount:a.pendingRewards.toString(),txHash:r.hash}),r.hash}catch(t){throw f.logError(t instanceof Error?t:new Error("Failed to claim pending rewards"),{category:b.BLOCKCHAIN,severity:N.HIGH}),t}}formatTokenAmount(t,a=2){const s=BigInt("1000000000000000000"),r=t/s,i=t%s;if(a===0)return r.toString();const x=i.toString().padStart(18,"0").slice(0,a);return`${r}.${x}`}parseTokenAmount(t){const[a,s=""]=t.split("."),r=s.padEnd(18,"0").slice(0,18),i=BigInt(a)*BigInt("1000000000000000000"),c=BigInt(r);return i+c}getTokenConfig(){return{...this.TOKEN_CONFIG}}isInitialized(){return!!(this.provider&&this.signer&&this.tokenContract&&this.stakingContract&&this.rewardsContract)}}const d=R.getInstance(),J=({className:l="",showDecimals:t=!0,showUSD:a=!1})=>{const[s,r]=g.useState(BigInt(0)),[i,c]=g.useState(!0),[x,m]=g.useState(null),[y,E]=g.useState(0);g.useEffect(()=>{let k=!0;const C=async()=>{try{c(!0),m(null),d.isInitialized()||await d.initialize();const p=await d.getBalance();if(k){r(p);const h=Number(d.formatTokenAmount(p,2));E(h*.05)}}catch(p){if(k){const h=p instanceof Error?p:new Error("Failed to load balance");f.logError(h,{category:b.BLOCKCHAIN,metadata:{component:"TokenBalance"}}),m("Unable to load balance")}}finally{k&&c(!1)}};C();const I=setInterval(C,3e4);return()=>{k=!1,clearInterval(I)}},[]);const v=()=>s===BigInt(0)?"0":d.formatTokenAmount(s,t?2:0);return i?e.jsxs("div",{className:`flex items-center space-x-2 ${l}`,children:[e.jsx("div",{className:"w-20 h-6 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-500",children:"PERS"})]}):x?e.jsx("div",{className:`flex items-center space-x-2 text-red-500 ${l}`,children:e.jsx("span",{className:"text-sm",children:x})}):e.jsx(A.div,{className:`flex items-center space-x-2 ${l}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:v()}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PERS"})]}),a&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["â‰ˆ $",y.toFixed(2)," USD"]})]})})},Q=BigInt("1000000000000000000"),X=()=>{const[l,t]=g.useState(null),[a,s]=g.useState(BigInt(0)),[r,i]=g.useState(""),[c,x]=g.useState(90),[m,y]=g.useState(!1),[E,v]=g.useState(!1),[k,C]=g.useState(!1),[I,p]=g.useState(null),h={BRONZE:{amount:100,apy:12,color:"text-orange-600"},SILVER:{amount:1e3,apy:15,color:"text-gray-500"},GOLD:{amount:1e4,apy:20,color:"text-yellow-500"},PLATINUM:{amount:1e5,apy:25,color:"text-purple-600"}};g.useEffect(()=>{o()},[]);const o=async()=>{try{d.isInitialized()||await d.initialize();const[n,u]=await Promise.all([d.getBalance(),d.getStakeInfo()]);s(n),t(u)}catch(n){const u=n instanceof Error?n:new Error("Failed to load staking data");f.logError(u,{category:b.BLOCKCHAIN,metadata:{component:"StakingInterface"}})}},w=n=>n>=h.PLATINUM.amount?{name:"Platinum",...h.PLATINUM}:n>=h.GOLD.amount?{name:"Gold",...h.GOLD}:n>=h.SILVER.amount?{name:"Silver",...h.SILVER}:n>=h.BRONZE.amount?{name:"Bronze",...h.BRONZE}:{name:"None",apy:0,color:"text-gray-400"},K=async()=>{try{y(!0),p(null);const n=d.parseTokenAmount(r);if(n<BigInt(100)*Q)throw new Error("Minimum stake amount is 100 PERS");if(n>a)throw new Error("Insufficient balance");const u=await d.stake(n,c);j.trackEvent("staking","stake","completed","",{amount:r,lockPeriod:c,txHash:u}),await o(),i("")}catch(n){const u=n instanceof Error?n:new Error("Staking failed");p(u.message),f.logError(u,{category:b.BLOCKCHAIN,metadata:{action:"stake",amount:r,lockPeriod:c}})}finally{y(!1)}},$=async()=>{try{v(!0),p(null);const n=await d.unstake();j.trackEvent("staking","unstake","completed","",{txHash:n}),await o()}catch(n){const u=n instanceof Error?n:new Error("Unstaking failed");p(u.message),f.logError(u,{category:b.BLOCKCHAIN,metadata:{action:"unstake"}})}finally{v(!1)}},D=async()=>{try{C(!0),p(null);const n=await d.claimPendingRewards();j.trackEvent("staking","claim_rewards","completed","",{txHash:n}),await o()}catch(n){const u=n instanceof Error?n:new Error("Claiming rewards failed");p(u.message),f.logError(u,{category:b.BLOCKCHAIN,metadata:{action:"claim_rewards"}})}finally{C(!1)}},P=w(l?Number(d.formatTokenAmount(l.amount,0)):0);return e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"PERS Token Staking"}),l&&e.jsxs("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Your Stake"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Staked Amount:"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[d.formatTokenAmount(l.amount,2)," PERS"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Current Tier:"}),e.jsxs("p",{className:`font-semibold ${P.color}`,children:[P.name," (",P.apy,"% APY)"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pending Rewards:"}),e.jsxs("p",{className:"font-semibold text-green-600",children:[d.formatTokenAmount(l.pendingRewards,2)," PERS"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Trust Score:"}),e.jsxs("p",{className:"font-semibold text-blue-600",children:[l.trustScore,"/100"]})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-3",children:[e.jsx("button",{onClick:$,disabled:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Unstaking...":"Unstake"}),e.jsx("button",{onClick:D,disabled:k||l.pendingRewards===BigInt(0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Claiming...":"Claim Rewards"})]})]}),!l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Stake Amount (min. 100 PERS)"}),e.jsx("input",{type:"text",value:r,onChange:n=>i(n.target.value),placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Available: ",d.formatTokenAmount(a,2)," PERS"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Lock Period (days)"}),e.jsxs("select",{value:c,onChange:n=>x(Number(n.target.value)),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:90,children:"90 days (3 months)"}),e.jsx("option",{value:180,children:"180 days (6 months)"}),e.jsx("option",{value:365,children:"365 days (1 year)"}),e.jsx("option",{value:730,children:"730 days (2 years)"}),e.jsx("option",{value:1095,children:"1095 days (3 years)"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Tier Preview"}),r&&e.jsx("div",{className:"text-sm",children:(()=>{const n=parseFloat(r)||0,u=w(n);return e.jsxs("p",{className:u.color,children:[u.name," Tier - ",u.apy,"% APY"]})})()})]}),e.jsx("button",{onClick:K,disabled:m||!r,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:m?"Staking...":"Stake PERS"})]}),I&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:I}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Staking Tiers"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(h).map(([n,u])=>e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:`font-semibold ${u.color}`,children:n}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u.amount.toLocaleString()," PERS"]}),e.jsxs("p",{className:"text-sm font-semibold",children:[u.apy,"% APY"]})]},n))})]})]})})},ee=BigInt("1000000000000000000"),te=()=>{const[l,t]=g.useState(null),[a,s]=g.useState([]),[r,i]=g.useState(!1),[c,x]=g.useState(!0),[m,y]=g.useState(null),E=BigInt(1e3)*ee;g.useEffect(()=>{v()},[]);const v=async()=>{try{x(!0),d.isInitialized()||await d.initialize();const o=await d.getRewardInfo();t(o);const w=[await d.calculateCredentialReward("github_basic",!0,!1),await d.calculateCredentialReward("linkedin_professional",!1,!1),await d.calculateCredentialReward("plaid_income",!0,!0)];s(w)}catch(o){const w=o instanceof Error?o:new Error("Failed to load reward data");f.logError(w,{category:b.BLOCKCHAIN,metadata:{component:"RewardsClaimInterface"}}),y("Unable to load reward information")}finally{x(!1)}},k=async()=>{try{i(!0),y(null);const o=await d.claimPendingRewards();j.trackEvent("rewards","claim","completed","",{amount:l?.pendingRewards.toString(),txHash:o}),await v()}catch(o){const w=o instanceof Error?o:new Error("Failed to claim rewards");y(w.message),f.logError(w,{category:b.BLOCKCHAIN,metadata:{action:"claim_rewards"}})}finally{i(!1)}},C=o=>o.split("_").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" "),I=o=>o.includes("github")?"ðŸ™":o.includes("linkedin")?"ðŸ’¼":o.includes("plaid")?"ðŸ¦":o.includes("discord")?"ðŸ’¬":o.includes("twitter")?"ðŸ¦":o.includes("education")?"ðŸŽ“":o.includes("employment")?"ðŸ’»":"ðŸ“„";if(c)return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!l)return e.jsx("div",{className:"p-6 text-center text-gray-500",children:"Unable to load reward information"});const p=l.dailyRewardsClaimed*BigInt(100)/E,h=Number(p);return e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Credential Verification Rewards"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Earn PERS tokens for verifying your credentials"})]}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Earned"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d.formatTokenAmount(l.totalEarned,2)," PERS"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Claimed"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d.formatTokenAmount(l.totalClaimed,2)," PERS"]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Pending Rewards"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:[d.formatTokenAmount(l.pendingRewards,2)," PERS"]})]})]}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Daily Reward Limit"}),e.jsxs("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:[d.formatTokenAmount(l.dailyRewardsClaimed,0)," / 1,000 PERS"]})]}),e.jsx("div",{className:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 dark:bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(h,100)}%`}})}),h>=100&&e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:"Daily limit reached. Resets in 24 hours."})]})}),l.canClaimRewards&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("button",{onClick:k,disabled:r,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold flex items-center justify-center space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Claiming..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-5 w-5"}),e.jsxs("span",{children:["Claim ",d.formatTokenAmount(l.pendingRewards,2)," PERS"]})]})})}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Recent Verifications"}),e.jsx("div",{className:"space-y-3",children:a.map((o,w)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:I(o.credentialType)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:C(o.credentialType)}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Base: ",d.formatTokenAmount(o.baseReward,0),o.zkProofBonus>BigInt(0)&&` + ZK: ${d.formatTokenAmount(o.zkProofBonus,0)}`,o.crossChainBonus>BigInt(0)&&` + Cross-chain: ${d.formatTokenAmount(o.crossChainBonus,0)}`]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400",children:["+",d.formatTokenAmount(o.totalReward,0)," PERS"]})})]},w))})]}),m&&e.jsx("div",{className:"p-6 pt-0",children:e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:[e.jsx(U,{className:"h-5 w-5"}),e.jsx("span",{children:m})]})}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"How to Earn More PERS"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(B,{className:"h-4 w-4 text-green-500 mt-0.5"}),e.jsx("span",{children:"Verify new credentials to earn base rewards"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(B,{className:"h-4 w-4 text-green-500 mt-0.5"}),e.jsx("span",{children:"Use zero-knowledge proofs for bonus rewards"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(B,{className:"h-4 w-4 text-green-500 mt-0.5"}),e.jsx("span",{children:"Perform cross-chain verifications for extra bonuses"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(G,{className:"h-4 w-4 text-blue-500 mt-0.5"}),e.jsx("span",{children:"24-hour cooldown between same credential verifications"})]})]})]})]})})},ne=()=>{const[l,t]=g.useState("overview"),a=[{id:"overview",name:"Overview",icon:F},{id:"staking",name:"Staking",icon:L},{id:"rewards",name:"Rewards",icon:z}],s=()=>{switch(l){case"overview":return e.jsx(ae,{});case"staking":return e.jsx(X,{});case"rewards":return e.jsx(te,{});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(H,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"PERS Token Dashboard"})]}),e.jsx(J,{showDecimals:!0,showUSD:!0,className:"text-right"})]})}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:a.map(r=>{const i=r.icon;return e.jsxs("button",{onClick:()=>t(r.id),className:`
                      group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm
                      ${l===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                    `,children:[e.jsx(i,{className:`
                      -ml-0.5 mr-2 h-5 w-5
                      ${l===r.id?"text-blue-500 dark:text-blue-400":"text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-300"}
                    `}),r.name]},r.id)})})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s()})]})},ae=()=>e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(O,{title:"Total Supply",value:"1,000,000,000",unit:"PERS",change:"+0%",icon:H,color:"blue"}),e.jsx(O,{title:"Market Cap",value:"$50,000,000",unit:"USD",change:"+12.5%",icon:F,color:"green"}),e.jsx(O,{title:"Holders",value:"12,543",unit:"Wallets",change:"+5.2%",icon:M,color:"purple"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Token Distribution"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(S,{label:"Credential Rewards",percentage:30,color:"bg-blue-500"}),e.jsx(S,{label:"Staking Rewards",percentage:20,color:"bg-green-500"}),e.jsx(S,{label:"Ecosystem Fund",percentage:15,color:"bg-purple-500"}),e.jsx(S,{label:"Team (Vested)",percentage:15,color:"bg-yellow-500"}),e.jsx(S,{label:"Public Sale",percentage:10,color:"bg-red-500"}),e.jsx(S,{label:"Liquidity Pool",percentage:10,color:"bg-gray-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(_,{title:"Staking Rewards",description:"Earn up to 25% APY by staking your PERS tokens. Higher tiers unlock better rates and increased trust scores.",icon:L,benefits:["Bronze Tier: 12% APY (100+ PERS)","Silver Tier: 15% APY (1,000+ PERS)","Gold Tier: 20% APY (10,000+ PERS)","Platinum Tier: 25% APY (100,000+ PERS)"]}),e.jsx(_,{title:"Verification Rewards",description:"Earn PERS tokens for verifying your credentials. Bonus rewards for ZK proofs and cross-chain verifications.",icon:z,benefits:["Base rewards for each credential","ZK proof bonuses (+50%)","Cross-chain bonuses (+30%)","Daily limit: 1,000 PERS"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Coming Soon"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"PersonaDAO Governance"}),e.jsx("p",{className:"text-sm opacity-90",children:"Vote on protocol upgrades and treasury management"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Credential Marketplace"}),e.jsx("p",{className:"text-sm opacity-90",children:"Buy and sell verified credentials with PERS"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Enterprise Staking"}),e.jsx("p",{className:"text-sm opacity-90",children:"Special rates for institutional holders"})]})]})]})]}),O=({title:l,value:t,unit:a,change:s,icon:r,color:i})=>{const c={blue:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",green:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400",purple:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400"};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${c[i]}`,children:e.jsx(r,{className:"h-6 w-6"})}),e.jsx("span",{className:`text-sm font-medium ${s.startsWith("+")?"text-green-600":"text-red-600"}`,children:s})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:a})]})},S=({label:l,percentage:t,color:a})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[t,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`${a} h-2 rounded-full transition-all duration-500`,style:{width:`${t}%`}})})]}),_=({title:l,description:t,icon:a,benefits:s})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(a,{className:"h-8 w-8 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t}),e.jsx("ul",{className:"space-y-2",children:s.map((r,i)=>e.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[e.jsx(V,{className:"h-4 w-4 text-green-500 mt-0.5"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r})]},i))})]});export{ne as TokenDashboard};
